
kernel void get(const int N,
		const dfloat * restrict v,
		const iint   * restrict ids,
		dfloat * restrict subv){

  for(iint n=0;n<N;++n;tile(256)){
    if(n<N){
      const iint id = ids[n];
      if (id >-1) {
        subv[n] = v[id];
      } else {
        subv[n] = 0.;
      }
    }
  }
}
