
kernel void mask(const int Nmasked,
                 const int    * restrict maskIds,
                       dfloat * restrict q){

  for(int n=0;n<Nmasked;++n;tile(256)){
    if(n<Nmasked){
      q[maskIds[n]] = 0.;
    }
  }
}
